<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (X11; I; Linux 2.4.0-test6 i586) [Netscape]">
   <title>TI-89 Link Protocol Guide - Remote Control</title>
</head>
<body bgcolor="#FFFFE8">
<b>TI-89 Link Protocol Guide</b> - Remote control/command 
<center>
<h2>

<hr ALIGN="CENTER">Remote control/command</h2></center>
The TI-89's remote control ability is "silent," which means that the calculator
does not need to be put in a special mode. The remote control ability can
be utilized any time the calculator is ready to accept a keypress.
<p><b><u>Remote command:</u></b>
<p>The protocol used for sending a remote command is shown below.
<table BORDER CELLSPACING=0 WIDTH="92%" BGCOLOR="#FFFFFF" >
<tr>
<th WIDTH="7%" BGCOLOR="#008800"><font color="#FFFFFF">Step</font></th>

<th COLSPAN="3" BGCOLOR="#008800"><font color="#FFFFFF">Direction</font></th>

<th WIDTH="80%" BGCOLOR="#008800"><font color="#FFFFFF">Packet</font></th>
</tr>

<tr>
<td WIDTH="7%" BGCOLOR="#FFFFFF">
<center>1&nbsp;</center>
</td>

<td ROWSPAN="2">
<center><img SRC="graphics/comp.gif" ALT="Computer" BORDER=0 height=33 width=30 align=BOTTOM></center>
</td>

<td BGCOLOR="#FFFFFF">
<center><img SRC="graphics/right.gif" ALT="===>" BORDER=0 height=13 width=22 align=BOTTOM></center>
</td>

<td ROWSPAN="2" BGCOLOR="#FFFFFF">
<center><img SRC="graphics/calc.gif" ALT="Calculator" BORDER=0 height=35 width=60 align=BOTTOM></center>
</td>

<td WIDTH="80%" BGCOLOR="#FFFFFF">CMD</td>
</tr>

<tr>
<td WIDTH="7%" BGCOLOR="#FFFFFF">
<center>2&nbsp;</center>
</td>

<td BGCOLOR="#FFFFFF">
<center><img SRC="graphics/left.gif" ALT="<===" BORDER=0 height=13 width=22 align=BOTTOM></center>
</td>

<td WIDTH="80%" BGCOLOR="#FFFFFF">ACK</td>
</tr>
</table>

<p>The scancode of the key is sent in the last two bytes of the command.
Scancodes are defined in the section B? to B?? of the French TI-89 guidebook
or p. 384 of the US TI-89 guidebook.<br>
<i>Tim: for French GuideBook, I have some photocopies of the scancodes
but at home (so on Saturday !).</i>
<p><u>Example:</u>
<table BORDER=0 CELLSPACING=0 WIDTH="100%" >
<tr>
<td BGCOLOR="#CCFFCC">PC:</td>

<td WIDTH="50%" BGCOLOR="#CCFFCC"><b><tt>08 87 31 00</tt></b></td>

<td WIDTH="50%" BGCOLOR="#CCFFCC"><i>Command: Key &lt;1></i></td>
</tr>

<tr>
<td BGCOLOR="#FFCCCC">TI:</td>

<td WIDTH="50%" BGCOLOR="#FFCCCC"><b><tt>98 56 00 00</tt></b></td>

<td WIDTH="50%" BGCOLOR="#FFCCCC"><i>Acknowledgement of command</i></td>
</tr>
</table>

<p>If the calculator is put into the self test menu (&lt;F5> + &lt;diamond>
+ &lt;(> + &lt;s> from the home screen) then sent back to the home screen,
then whenever a command result becomes available the calculator will send
it through the link port as expression data. Each transmission from the
calculator does not include a packet header or checksum but is terminated
with 0xFF (see below).
<p><b><u>Remote Control Mode:</u></b>
<p>The remote control mode can be activated either by pressing &lt;F5>
+ &lt;DIAMOND> + &lt;(>+&lt;R> or by sending this key sequence directly
to the calculator via remote commands. In this mode, the calculator can
receive key codes as if they have been typed on the keyboard and send the
result via the link port.
<p>To control the calculator, a scancode must be sent trough the link port
in a command packet. After each scancode is received, the calculator replies
with an FFh byte. Whenever a command result becomes available, the calculator
will send it through the link port as expression data, followed by an FFh
byte.
<p><u>Example:</u>
<table BORDER=0 CELLSPACING=0 WIDTH="100%" BGCOLOR="#FFFFFF" NOSAVE >
<tr>
<td BGCOLOR="#CCFFCC">PC:</td>

<td WIDTH="50%" BGCOLOR="#CCFFCC"><b><tt>08 87 31 00</tt></b></td>

<td WIDTH="50%" BGCOLOR="#CCFFCC"><i>Command: &lt;1></i></td>
</tr>

<tr>
<td BGCOLOR="#FFCCCC">TI:</td>

<td WIDTH="50%" BGCOLOR="#FFCCCC"><b><tt>FF</tt></b></td>

<td WIDTH="50%" BGCOLOR="#FFCCCC"><i>Acknowledgement of command</i></td>
</tr>

<tr BGCOLOR="#99FFCC" NOSAVE>
<td BGCOLOR="#CCFFCC">PC:&nbsp;</td>

<td WIDTH="50%" BGCOLOR="#CCFFCC" NOSAVE><b><tt>08 87 2B 00</tt></b></td>

<td WIDTH="50%" BGCOLOR="#CCFFCC"><i>Command: &lt;+></i></td>
</tr>

<tr BGCOLOR="#FFCCCC" NOSAVE>
<td BGCOLOR="#FFCCCC">TI:</td>

<td WIDTH="50%" BGCOLOR="#FFCCCC" NOSAVE><b><tt>FF</tt></b></td>

<td WIDTH="50%" BGCOLOR="#FFCCCC"><i>Acknowledgement of command</i></td>
</tr>

<tr BGCOLOR="#99FFCC" NOSAVE>
<td BGCOLOR="#CCFFCC">PC:&nbsp;</td>

<td WIDTH="50%" BGCOLOR="#CCFFCC" NOSAVE><b><tt>08 87 41 00</tt></b></td>

<td WIDTH="50%" BGCOLOR="#CCFFCC"><i>Command: &lt;a></i></td>
</tr>

<tr BGCOLOR="#FFCCCC" NOSAVE>
<td BGCOLOR="#FFCCCC">TI:</td>

<td WIDTH="50%" BGCOLOR="#FFCCCC" NOSAVE><b><tt>FF</tt></b></td>

<td WIDTH="50%" BGCOLOR="#FFCCCC"><i>Acknowledgement of command</i></td>
</tr>

<tr BGCOLOR="#99FFCC" NOSAVE>
<td BGCOLOR="#CCFFCC">PC:&nbsp;</td>

<td WIDTH="50%" BGCOLOR="#CCFFCC" NOSAVE><b><tt>08 87 0D 00</tt></b></td>

<td WIDTH="50%" BGCOLOR="#CCFFCC"><i>Command: &lt;ENTER></i></td>
</tr>

<tr BGCOLOR="#FFCCCC" NOSAVE>
<td BGCOLOR="#FFCCCC">TI:</td>

<td WIDTH="50%" BGCOLOR="#FFCCCC" NOSAVE><b><tt>FF</tt></b></td>

<td WIDTH="50%" BGCOLOR="#FFCCCC"><i>Acknowledgement of command</i></td>
</tr>

<tr BGCOLOR="#99FFCC" NOSAVE>
<td BGCOLOR="#FFCCCC">&nbsp;</td>

<td WIDTH="50%" BGCOLOR="#FFCCCC" NOSAVE><b><tt>41 2B 31 FF</tt></b></td>

<td WIDTH="50%" BGCOLOR="#FFCCCC"><i>Reply with result "a+1"</i></td>
</tr>
</table>

<br>&nbsp;
<table BORDER=0 CELLSPACING=0 WIDTH="100%" >
<tr>
<td WIDTH="32%">
<center><a href="packet.html"><img SRC="graphics/prevpage.gif" ALT="[previous page]" BORDER=2 height=32 width=32 align=BOTTOM></a>
<br><a href="packet.html">Packet Formats</a></center>
</td>

<td WIDTH="34%">
<center><a href="index.html"><img SRC="graphics/home.gif" ALT="[home]" BORDER=2 height=32 width=32 align=BOTTOM></a>
<br><a href="index.html">Table of Contents</a></center>
</td>

<td WIDTH="34%">
<center><a href="screenshot.html"><img SRC="graphics/nextpage.gif" ALT="[next page]" BORDER=2 height=32 width=32 align=BOTTOM></a>
<br><a href="screenshot.html">Screenshots</a></center>
</td>
</tr>
</table>

<hr ALIGN="CENTER"><i>Site maintained by Romain Li&eacute;vin (<a href="mailto:roms@lpg.ticalc.org">roms@lpg.ticalc.org</a>)
and Tim Singer (<a href="mailto:tsinger@gladstone.uoregon.edu">tsinger@gladstone.uoregon.edu</a>)</i>
</body>
</html>
